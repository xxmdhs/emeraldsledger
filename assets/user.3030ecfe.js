import{d as e,r as a,n as t,j as r,p as s,s as l,v as n,o as u,k as o,u as i,b as p,t as d,K as b,a as c,w as v,F as f,l as m,c as k}from"./vendor.0cabb7b3.js";import{g}from"./index.909c1c18.js";const y={key:0},w=m("br",null,null,-1),h=["href"],T={key:1},j=e({props:{uid:{type:Number,required:!0}},setup(e){const m=e;let j=a(""),C=a(0),L=a(!1),U=a([]),_=t(m);function x(e){var a=new Date(1e3*e),t=a.getFullYear(),r=a.getMonth()+1,s=a.getDate(),l=a.getHours(),n=a.getMinutes();return t+"-"+D(r)+"-"+D(s)+" "+D(l)+":"+D(n)}function D(e){return e<10?"0"+e:String(e)}return r((()=>{s((async()=>{let e=await g(),a=[];for(const t in e)e[t].Uid!=String(_.uid.value)&&0!=_.uid.value||(j.value=e[t].Username,C.value+=e[t].Count,a.push(e[t]));0==_.uid.value?(L.value=!0,document.title="绿宝石列表"):document.title=`${j.value} 的绿宝石使用列表`,a.sort(((e,a)=>a.Time-e.Time));for(const t of a){let e=t;""==e.Link&&"mcbbsAd"==e.Type?e.v="none（宣传栏）":e.v="link",e.time=x(e.Time),U.value.push(e)}}))})),(a,t)=>{const r=l,s=n;return u(),o(f,null,[i(L)?b("",!0):(u(),o("p",y,[p(d(i(j))+"("+d(e.uid)+") ",1),w,p(" 总数： "+d(i(C)),1)])),c(s,{data:i(U)},{default:v((()=>[i(L)?(u(),k(r,{key:0,prop:"Uid",label:"uid"})):b("",!0),c(r,{prop:"Count",label:"绿宝石数",sortable:""}),c(r,{prop:"time",label:"时间",sortable:""}),c(r,{prop:"Cause",label:"原因"}),c(r,{label:"链接"},{default:v((e=>[e.row.Link?(u(),o("a",{key:0,href:e.row.Link,target:"_blank",referrerpolicy:"no-referrer"},d(e.row.v),9,h)):(u(),o("span",T,d(e.row.v),1))])),_:1})])),_:1},8,["data"])],64)}}});export{j as default};
//# sourceMappingURL=user.3030ecfe.js.map
