export function __vite_legacy_guard(){import("data:text/javascript,")}import{d as e,o as t,c as a,w as r,a as o,b as l,u as n,R as s,E as u,e as i,f as d,g as c,h as p,i as f,j as m,r as h,k as y,l as _,t as v,m as b,F as g,n as w,p as E,q as k,s as C,v as N,x as T,S as x,y as L,z as j,A,B as I,C as P,D as U,G as V,H as $,I as D}from"./vendor.4de80491.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var O=(e,t)=>{for(const[a,r]of t)e[a]=r;return e};const S={class:"main"},q=i("Home"),z=i("搜索"),B={class:"main"};var F=O(e({setup:e=>(e,i)=>{const m=d,h=c,y=p,_=f;return t(),a(n(u),null,{default:r((()=>[o(y,{class:"header"},{default:r((()=>[l("div",S,[o(h,{mode:"horizontal",router:"","default-active":"1"},{default:r((()=>[o(m,{index:"1",route:{path:"/"}},{default:r((()=>[q])),_:1}),o(m,{index:"2",route:{path:"/user"}},{default:r((()=>[z])),_:1})])),_:1})])])),_:1}),o(_,null,{default:r((()=>[l("div",B,[o(n(s))])])),_:1})])),_:1})}}),[["__scopeId","data-v-1a7c96dd"]]);const R={},H=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in R)return;R[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};async function G(){if(K.length>0)return K;let e;try{let t=await fetch("/data.json");e=await t.json()}catch(a){return console.warn(a),m({title:"Error",message:"Could not load data",type:"error",onClick:()=>{location.reload()},duration:0,showClose:!1}),[]}let t=[];for(const r in e)t.push(e[r]);return K=t,t}let K=[];const M=i("一月内绿宝石使用排行"),W=i("近三月绿宝石使用排行"),J=i("近一年绿宝石使用排行"),Q=i("总绿宝石使用排行"),X=i("绿宝石使用列表"),Y=i("某个用户绿宝石使用详单"),Z=l("p",null,[l("a",{href:"https://greasyfork.org/zh-CN/scripts/424437-%E6%9F%A5%E7%9C%8B%E8%AF%84%E5%88%86"},"某个用户被评分列表")],-1),ee=e({setup(e){let a=h(0);return y((async()=>{let e=await G(),t=0;for(const a of e)t+=a.Count;a.value=t,document.title="绿宝石"})),(e,s)=>(t(),_(g,null,[l("p",null,"总绿宝石使用数："+v(n(a)),1),l("p",null,[o(n(b),{to:"/table30"},{default:r((()=>[M])),_:1})]),l("p",null,[o(n(b),{to:"/table90"},{default:r((()=>[W])),_:1})]),l("p",null,[o(n(b),{to:"/table365"},{default:r((()=>[J])),_:1})]),l("p",null,[o(n(b),{to:"/all"},{default:r((()=>[Q])),_:1})]),l("p",null,[o(n(b),{to:"/list"},{default:r((()=>[X])),_:1})]),l("p",null,[o(n(b),{to:"/user"},{default:r((()=>[Y])),_:1})]),Z],64))}}),te={key:1},ae=e({props:{day:{type:Number,default:30}},setup(e){const s=e;let u=h(""),d=h([]);function c(e){return e+1}return y((()=>{w((async()=>{0==s.day?(u.value="总绿宝石使用排行",document.title=u.value):(u.value=`${s.day} 天内绿宝石使用排行`,document.title=u.value),d.value=[];let e=await G(),t=(new Date).getTime()/1e3,a=24*s.day*3600,r=[],o={};for(const l of e)if(t-Number(l.Time)<a||0==s.day){let e=String(l.Uid);o[e]?o[e].count+=Number(l.Count):o[e]={uid:Number(l.Uid),name:l.Username,count:Number(l.Count),href:`/user/${l.Uid}`,v:"详情"}}for(const l in o)r.push(o[l]);d.value=r}))})),(e,s)=>{const p=E("router-link");return t(),_(g,null,[l("h1",null,v(n(u)),1),o(n(C),{data:n(d),"default-sort":{prop:"count",order:"ascending"}},{default:r((()=>[o(n(k),{type:"index",label:"排名",index:c}),o(n(k),{prop:"uid",label:"uid"}),o(n(k),{prop:"name",label:"用户名"}),o(n(k),{prop:"count",label:"总数",sortable:""}),o(n(k),{label:"详情"},{default:r((e=>[e.row.href?(t(),a(p,{key:0,to:e.row.href},{default:r((()=>[i(v(e.row.v),1)])),_:2},1032,["to"])):(t(),_("span",te,v(e.row.v),1))])),_:1})])),_:1},8,["data"])],64)}}});const re=(e=>(L("data-v-4058cdff"),e=e(),j(),e))((()=>l("h1",null,"查询某个用户绿宝石使用详单",-1))),oe={class:"c"};const le=[{path:"/",component:ee},{path:"/:table(table\\d+)",component:ae,props:function(e){let t="";t="string"==typeof e.params.table?e.params.table:e.params.table[0];let a=t.match(/\d+/g);return null!=a&&a.length>0?{day:Number(a[0])}:{}}},{path:"/all",component:ae,props:{day:"0"}},{path:"/user/:uid",component:()=>H((()=>import("./user.cbdd8507.js")),["assets/user.cbdd8507.js","assets/user.ad7c338f.css","assets/vendor.4de80491.js","assets/vendor.cdde2078.css"]),props:e=>({uid:Number(e.params.uid)}),meta:{scrollToTop:!0}},{path:"/list",component:()=>H((()=>import("./user.cbdd8507.js")),["assets/user.cbdd8507.js","assets/user.ad7c338f.css","assets/vendor.4de80491.js","assets/vendor.cdde2078.css"]),props:{uid:0},meta:{scrollToTop:!0}},{path:"/user",component:O(e({setup(e){let a=h("");const r=N();function s(){r.push({path:"/user/"+a.value})}return(e,r)=>{const u=A,i=I,d=P;return t(),_(g,null,[re,o(u),l("div",oe,[o(i,{modelValue:n(a),"onUpdate:modelValue":r[0]||(r[0]=e=>T(a)?a.value=e:a=e),type:"tel",placeholder:"Please input"},null,8,["modelValue"]),o(d,{icon:n(x),circle:"",onClick:s},null,8,["icon"])])],64)}}}),[["__scopeId","data-v-4058cdff"]])}],ne=U({history:V(),scrollBehavior:(e,t,a)=>{if(a)return a;if(e.hash)return{el:e.hash,behavior:"smooth"};let r={left:0,top:0};return!!e.meta.scrollToTop&&(r.left=0,r.top=0,r)},routes:le});let se=$(F);se.use(D),se.use(ne),se.mount("#app");export{G as g};
