export function __vite_legacy_guard(){import("data:text/javascript,")}import{d as e,o as t,c as a,w as r,a as o,b as l,u as n,R as s,E as u,e as d,f as i,g as c,h as p,i as f,j as m,r as h,k as v,l as y,t as _,m as b,F as g,n as w,p as E,q as k,s as C,v as N,x,y as L,S as j,z as A,A as I,B as P,C as U,D as V,G as $,H as q,I as D,J as O}from"./vendor.04540f29.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var S=(e,t)=>{for(const[a,r]of t)e[a]=r;return e};const T={class:"main"},z=d("Home"),F=d("搜索"),R={class:"main"};var B=S(e({setup:e=>(e,d)=>{const m=i,h=c,v=p,y=f;return t(),a(n(u),null,{default:r((()=>[o(v,{class:"header"},{default:r((()=>[l("div",T,[o(h,{mode:"horizontal",router:"","default-active":"1"},{default:r((()=>[o(m,{index:"1",route:{path:"/"}},{default:r((()=>[z])),_:1}),o(m,{index:"2",route:{path:"/user"}},{default:r((()=>[F])),_:1})])),_:1})])])),_:1}),o(y,null,{default:r((()=>[l("div",R,[o(n(s))])])),_:1})])),_:1})}}),[["__scopeId","data-v-561f5fa9"]]);const H={},G=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in H)return;H[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};async function J(){if(K.length>0)return K;let e;try{let t=await fetch("https://quiet-disk-7a77.xmdhs.workers.dev/https://emerald.xmdhs.top/data.json");e=await t.json()}catch(a){return console.warn(a),m({title:"Error",message:"Could not load data",type:"error",onClick:()=>{location.reload()},duration:0,showClose:!1}),[]}let t=[];for(const r in e)t.push(e[r]);return K=t,t}let K=[];const M=d("一月内绿宝石使用排行"),W=d("近三月绿宝石使用排行"),Q=d("近一年绿宝石使用排行"),X=d("总绿宝石使用排行"),Y=d("绿宝石使用列表"),Z=d("某个用户绿宝石使用详单"),ee=l("p",null,[l("a",{href:"https://greasyfork.org/zh-CN/scripts/424437-%E6%9F%A5%E7%9C%8B%E8%AF%84%E5%88%86"},"某个用户被评分列表")],-1),te=e({setup(e){let a=h(0);return v((async()=>{let e=await J(),t=0;for(const a of e)t+=a.Count;a.value=t,document.title="绿宝石"})),(e,s)=>(t(),y(g,null,[l("p",null,"总绿宝石使用数："+_(n(a)),1),l("p",null,[o(n(b),{to:"/table30"},{default:r((()=>[M])),_:1})]),l("p",null,[o(n(b),{to:"/table90"},{default:r((()=>[W])),_:1})]),l("p",null,[o(n(b),{to:"/table365"},{default:r((()=>[Q])),_:1})]),l("p",null,[o(n(b),{to:"/all"},{default:r((()=>[X])),_:1})]),l("p",null,[o(n(b),{to:"/list"},{default:r((()=>[Y])),_:1})]),l("p",null,[o(n(b),{to:"/user"},{default:r((()=>[Z])),_:1})]),ee],64))}}),ae={key:1},re=e({props:{day:{type:Number,default:30}},setup(e){let s=w(e),u=h(""),i=h([]);function c(e){return e+1}return v((()=>{E((async()=>{0==s.day.value?(u.value="总绿宝石使用排行",document.title=u.value):(u.value=`${s.day.value} 天内绿宝石使用排行`,document.title=u.value),i.value=[];let e=await J(),t=(new Date).getTime()/1e3,a=24*s.day.value*3600,r=[],o={};for(const l of e)if(t-Number(l.Time)<a||0==s.day.value){let e=String(l.Uid);o[e]?o[e].count+=Number(l.Count):o[e]={uid:Number(l.Uid),name:l.Username,count:Number(l.Count),href:`/user/${l.Uid}`,v:"详情"}}for(const l in o)r.push(o[l]);i.value=r}))})),(e,s)=>{const p=k("router-link");return t(),y(g,null,[l("h1",null,_(n(u)),1),o(n(N),{data:n(i),"default-sort":{prop:"count",order:"ascending"}},{default:r((()=>[o(n(C),{type:"index",label:"排名",index:c}),o(n(C),{prop:"uid",label:"uid"}),o(n(C),{prop:"name",label:"用户名"}),o(n(C),{prop:"count",label:"总数",sortable:""}),o(n(C),{label:"详情"},{default:r((e=>[e.row.href?(t(),a(p,{key:0,to:e.row.href},{default:r((()=>[d(_(e.row.v),1)])),_:2},1032,["to"])):(t(),y("span",ae,_(e.row.v),1))])),_:1})])),_:1},8,["data"])],64)}}});const oe=(e=>(A("data-v-4058cdff"),e=e(),I(),e))((()=>l("h1",null,"查询某个用户绿宝石使用详单",-1))),le={class:"c"};const ne=[{path:"/",component:te},{path:"/:table(table\\d+)",component:re,props:function(e){let t=e.params.table.match(/\d+/g);return null!=t&&t.length>0?{day:Number(t[0])}:{}}},{path:"/all",component:re,props:{day:"0"}},{path:"/user/:uid",component:()=>G((()=>import("./user.490b25ff.js")),["assets/user.490b25ff.js","assets/user.ad7c338f.css","assets/vendor.04540f29.js","assets/vendor.cdde2078.css"]),props:e=>({uid:Number(e.params.uid)})},{path:"/list",component:()=>G((()=>import("./user.490b25ff.js")),["assets/user.490b25ff.js","assets/user.ad7c338f.css","assets/vendor.04540f29.js","assets/vendor.cdde2078.css"]),props:{uid:0}},{path:"/user",component:S(e({setup(e){let a=h("");const r=x();function s(){r.push({path:"/user/"+a.value})}return(e,r)=>{const u=P,d=U,i=V;return t(),y(g,null,[oe,o(u),l("div",le,[o(d,{modelValue:n(a),"onUpdate:modelValue":r[0]||(r[0]=e=>L(a)?a.value=e:a=e),type:"tel",placeholder:"Please input"},null,8,["modelValue"]),o(i,{icon:n(j),circle:"",onClick:s},null,8,["icon"])])],64)}}}),[["__scopeId","data-v-4058cdff"]])}],se=$({history:q(),routes:ne});let ue=D(B);ue.use(O),ue.use(se),ue.mount("#app");export{J as g};
//# sourceMappingURL=index.f30f5448.js.map
