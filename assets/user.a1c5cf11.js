import{d as e,r as a,n as t,k as r,p as s,s as l,v as n,o as u,l as o,u as i,e as p,t as d,K as f,a as v,w as b,F as m,b as c,c as k}from"./vendor.04540f29.js";import{g}from"./index.1f3a1b5e.js";const y={key:0},w=c("br",null,null,-1),h=["href"],T={key:1},C=e({props:{uid:{type:Number,required:!0}},setup(e){const c=e;let C=a(""),L=a(0),U=a(!1),_=a([]),j=t(c);function x(e){var a=new Date(1e3*e),t=a.getFullYear(),r=a.getMonth()+1,s=a.getDate(),l=a.getHours(),n=a.getMinutes();return t+"-"+D(r)+"-"+D(s)+" "+D(l)+":"+D(n)}function D(e){return e<10?"0"+e:String(e)}return r((()=>{s((async()=>{let e=await g(),a=[];for(const t in e)e[t].Uid!=String(j.uid.value)&&0!=j.uid.value||(C.value=e[t].Username,L.value+=e[t].Count,a.push(e[t]));0==j.uid.value?(U.value=!0,document.title="绿宝石列表"):document.title=`${C.value} 的绿宝石使用列表`,a.sort(((e,a)=>a.Time-e.Time));for(const t of a){let e=t;""==e.Link&&"mcbbsAd"==e.Type?e.v="none（宣传栏）":e.v="link",e.time=x(e.Time),_.value.push(e)}}))})),(a,t)=>{const r=l,s=n;return u(),o(m,null,[i(U)?f("",!0):(u(),o("p",y,[p(d(i(C))+"("+d(e.uid)+") ",1),w,p(" 总数： "+d(i(L)),1)])),v(s,{data:i(_)},{default:b((()=>[i(U)?(u(),k(r,{key:0,prop:"Uid",label:"uid"})):f("",!0),v(r,{prop:"Count",label:"绿宝石数",sortable:""}),v(r,{prop:"time",label:"时间",sortable:""}),v(r,{prop:"Cause",label:"原因"}),v(r,{label:"链接"},{default:b((e=>[e.row.Link?(u(),o("a",{key:0,href:e.row.Link,target:"_blank",referrerpolicy:"no-referrer"},d(e.row.v),9,h)):(u(),o("span",T,d(e.row.v),1))])),_:1})])),_:1},8,["data"])],64)}}});export{C as default};
